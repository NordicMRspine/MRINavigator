<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Pipelines · MRINavigator.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MRINavigator.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../GettingStarted/">Getting Started</a></li><li class="is-active"><a class="tocitem" href>Pipelines</a></li><li><a class="tocitem" href="../API/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Pipelines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Pipelines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/NordicMRspine/MRINavigator/blob/main/docs/src/Pipelines.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Navigator-based-correction-pipelines"><a class="docs-heading-anchor" href="#Navigator-based-correction-pipelines">Navigator-based correction pipelines</a><a id="Navigator-based-correction-pipelines-1"></a><a class="docs-heading-anchor-permalink" href="#Navigator-based-correction-pipelines" title="Permalink"></a></h1><p>Standard navigator processing that has been developed for brain imaging is not sufficiently robust in the spinal cord due to the following:</p><ul><li>Higher in-plane variability in the field distribution</li><li>Signal-to-noise ratio (SNR) is lower</li><li>Larger variations in signal contribution from different receiver coils compared to most anatomical regions</li></ul><p>To face these challenges, we developed:</p><ul><li><strong>SNR weighted averaging</strong> of the navigator profile</li><li><strong>mean phase removal</strong> to recenter the phase distribution and reduce wrapping</li><li><strong>A fast Fourier transform (FFT) and spatial region selection step</strong>. This consists of applying a one-dimensional Fourier transform to each navigator profile and considering for the phase estimate only the data points in a certain spatial interval centered on the spinal cord.</li><li><strong>Phase unwrapping</strong> function for the navigator estimates using the respiratory trace recording.</li></ul><p>These features are combined in multiple pipelines as shown in the figure.</p><p><img src="../assets/pipeline.png" alt="Pipelines"/></p><p>The available pipelines are:</p><ul><li><strong>k_nav</strong> is the k-space navigator processing commonly used for brain imaging, optimized with SNR weighted averaging and mean phase removal.</li><li><strong>FFT_nav</strong> that includes an additional FFT and spatial region selection step compared to k_nav.</li><li><strong>unwrap</strong> includes the phase unwrapping algorithm and makes use of the respiratory belt recordings.</li></ul><p>MRINavigator is designed to be flexible and multiple analysis parameters are tuneable. It is possible to select the correction pipeline and parameters using the params dictionary. For more information check the <a href="../GettingStarted/#Get-started">Get started</a> or <a href="../API/#API">API</a> pages. Alternatively start <code>julia</code> from the command line, and type <code>?</code> to enter the help REPL mode. Then enter</p><pre><code class="nohighlight hljs">help?&gt; defaultNavParams</code></pre><p>Listed below are the main features and parameters the user can select and modify:</p><ul><li>The Spinal cord toolbox (<a href="https://spinalcordtoolbox.com">SCT</a>) can be used to locate the spinal cord centerline position (<code>params[:comp_centerline] = true</code>). To do this the reference data, which are fully sampled, are reconstructed combining the coils, and saved in <a href="https://brainder.org/2012/09/23/the-nifti-file-format/">NIfTI</a> format (<code>params[:reconstruct_map] = true</code>).  The user can also manually locate the centerline if the automatic algorithm fails, selecting <code>params[:trust_SCT] = false</code>. Alternatively, the center of the image will be used (<code>params[:use_centerline] = false</code>).</li><li>The interval width for the region selection after the FFT step can be adjusted (<code>params[:FFT_interval] = type number in millimeters</code>).</li><li>The unwrap function can be applied both to the <strong>FFT</strong> and the <strong>k nav</strong> pipelines. To do this type <code>params[:corr_type] = &quot;FFT_unwrap&quot;</code> or <code>params[:corr_type] = &quot;knav_unwrap&quot;</code>.</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../GettingStarted/">« Getting Started</a><a class="docs-footer-nextpage" href="../API/">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Wednesday 6 September 2023 22:28">Wednesday 6 September 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
